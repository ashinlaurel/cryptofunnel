(this["webpackJsonpcrypto-funnel"]=this["webpackJsonpcrypto-funnel"]||[]).push([[14],{178:function(e,t,c){"use strict";c(1);var a=c(0);t.a=function(e){var t=e.children;return Object(a.jsx)("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:t})}},194:function(e,t,c){"use strict";c.r(t);var a=c(17),n=c.n(a),r=c(27),l=c(6),s=c(1),o=c(178),i=c(14),d=c(5),j=c(32),u=c.n(j),b=c(26),O=c(0);t.default=function(){var e=Object(s.useState)(1),t=Object(l.a)(e,2),c=(t[0],t[1],Object(s.useState)([])),a=Object(l.a)(c,2),j=a[0],h=a[1],x=Object(s.useState)(""),f=Object(l.a)(x,2),p=f[0],m=f[1],g=Object(s.useState)("10"),y=Object(l.a)(g,2),v=y[0],C=y[1],w=Object(s.useState)(!0),k=Object(l.a)(w,2),N=k[0],I=k[1],S=Object(s.useState)(!1),T=Object(l.a)(S,2),B=T[0],M=T[1],R=Object(s.useState)(!1),A=Object(l.a)(R,2),z=A[0],F=A[1],D=Object(s.useState)(""),H=Object(l.a)(D,2),q=H[0],E=H[1];console.log("ROLE",i.a.getRole());var J=Object(s.useState)(20),L=Object(l.a)(J,2),Y=(L[0],L[1]),G=Object(s.useState)(!1),P=Object(l.a)(G,2),K=P[0],Q=P[1];function U(){Q(!1)}Object(s.useEffect)((function(){!function(){var e=Object(r.a)(n.a.mark((function e(){var t,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("checker called"),t={pages:{page:1,limit:10},filters:{creatorId:i.a.getId()}},e.prev=2,e.next=5,u()({url:"".concat(b.a,"/refferal/").concat(i.a.getId(),"/getbyuser"),method:"POST",data:t});case 5:c=e.sent,console.log(c.data.out),Y(c.data.total),h(c.data.out),0!=c.data.out.length&&M(!0),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(2),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}()()}),[N]);var V=function(){var e=Object(r.a)(n.a.mark((function e(){var t,c,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.a.getId(),c={creatorId:t},e.next=4,u.a.post("".concat(b.a,"/refferal/").concat(i.a.getId(),"/getNewCode"),c);case 4:a=e.sent,console.log(a.data),m(a.data),Q(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(r.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.a.getId(),e.prev=1,e.next=4,u.a.post("".concat(b.a,"/user/").concat(i.a.getId(),"/requestInfluencer"));case 4:t=e.sent,console.log(t.data),E("Request Send!"),F(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),E("Sorry, an error occured!"),F(!0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(r.a)(n.a.mark((function e(){var t,c,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.a.getId(),c=i.a.getName(),console.log(t),a={creatorName:c,creatorId:t,refCode:p,discount:v},e.next=6,u.a.post("".concat(b.a,"/refferal/").concat(i.a.getId(),"/createnew"),a);case 6:r=e.sent,console.log(r.data),m(""),C(""),I(!N),Q(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(d.Modal,{isOpen:K,onClose:U,children:[Object(O.jsx)(d.ModalHeader,{children:"New Refferal Code"}),Object(O.jsxs)(d.ModalBody,{children:["You can use the following refferal code to get a discount !!",Object(O.jsx)("div",{className:"flex items-center justify-center my-2",children:Object(O.jsx)("div",{className:"bg-gray-200 my-2 flex font-bold py-2 px-32 text-lg  items-center justify-center rounded-lg",children:Object(O.jsx)("div",{children:p})})})]}),Object(O.jsxs)(d.ModalFooter,{children:[Object(O.jsx)("div",{className:"hidden sm:block",children:Object(O.jsx)(d.Button,{layout:"outline",onClick:U,children:"Cancel"})}),Object(O.jsx)("div",{className:"hidden sm:block",children:Object(O.jsx)(d.Button,{onClick:X,children:"Accept"})}),Object(O.jsx)("div",{className:"block w-full sm:hidden",children:Object(O.jsx)(d.Button,{block:!0,size:"large",layout:"outline",onClick:U,children:"Cancel"})}),Object(O.jsx)("div",{className:"block w-full sm:hidden",children:Object(O.jsx)(d.Button,{onClick:X,block:!0,size:"large",children:"Accept"})})]})]}),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(d.Modal,{isOpen:z,onClose:function(){return F(!1)},children:[Object(O.jsx)(d.ModalHeader,{children:q}),Object(O.jsx)(d.ModalBody,{}),Object(O.jsx)(d.ModalFooter,{children:Object(O.jsx)(d.Button,{className:"w-full sm:w-auto",onClick:function(){return F(!1)},children:"Okay!"})})]})}),Object(O.jsx)(o.a,{children:"Refferals"}),B?Object(O.jsx)(d.TableContainer,{children:Object(O.jsxs)(d.Table,{children:[Object(O.jsx)(d.TableHeader,{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)(d.TableCell,{children:"Code"}),Object(O.jsx)(d.TableCell,{children:"Discount"}),Object(O.jsx)(d.TableCell,{children:"Status"}),Object(O.jsx)(d.TableCell,{children:"Created At"})]})}),Object(O.jsx)(d.TableBody,{children:j.map((function(e,t){return Object(O.jsxs)(d.TableRow,{children:[Object(O.jsx)(d.TableCell,{children:Object(O.jsx)("span",{className:"text-sm bg-gray-200 py-1 px-2 font-bold rounded-lg",children:e.refCode})}),Object(O.jsx)(d.TableCell,{children:Object(O.jsxs)("span",{className:"text-sm ",children:[e.discount,"%"]})}),Object(O.jsx)(d.TableCell,{children:Object(O.jsx)(d.Badge,{type:e.status,children:"Active"})}),Object(O.jsx)(d.TableCell,{children:Object(O.jsx)("span",{className:"text-sm",children:new Date(e.createdAt).toLocaleDateString()})})]},t)}))})]})}):Object(O.jsx)("div",{className:"mt-2 mb-4",children:Object(O.jsx)(d.Button,{onClick:V,size:"large",children:"Get New Refferal Code +"})}),Object(O.jsxs)("div",{className:" w-1/2 mt-12 mb-4 text-gray-900",children:[Object(O.jsx)("p",{children:"You can get your own referal codes only with an Influencer account. Click the button to apply and reach out to us at cfemail@gmail.com with your resume to get your Influencer account."}),Object(O.jsx)(d.Button,{onClick:W,size:"small",className:"mt-5",children:"Apply for Influencer"})]})]})}}}]);
//# sourceMappingURL=14.bc351fd8.chunk.js.map