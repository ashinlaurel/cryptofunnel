{"version":3,"sources":["pages/Verification/VerifyEmail.js"],"names":["VerifyEmail","token","useParams","history","useHistory","verify","a","payload","axios","post","API","headers","Authorization","setMessage","console","log","useEffect","useState","message","className","onClick","push"],"mappings":"uNA2DeA,UAjDK,WAClB,IAAQC,EAAUC,cAAVD,MAEJE,EAAUC,cAERC,EAAM,uCAAG,4BAAAC,EAAA,sEAELC,EAAU,CAAEN,MAAOA,GAFd,SAGYO,IAAMC,KAAN,UAAcC,IAAd,oBAAqCH,EAAS,CACnEI,QAAS,CACPC,cAAc,UAAD,OAAYX,MALlB,cASXY,EAAW,gCATA,gDAWXC,QAAQC,IAAI,eAAZ,MACAF,EAAW,4BAZA,yDAAH,qDAeZG,qBAAU,WAERX,MACC,IACH,MAA8BY,mBAAS,cAAvC,mBAAOC,EAAP,KAAgBL,EAAhB,KAsBA,OAAO,mCAlBH,qBAAKM,UAAU,4DAAf,SACE,sBAAKA,UAAU,0FAAf,UACE,qBAAKA,UAAU,0FAAf,SACGD,IAEH,cAAC,SAAD,CACEC,UAAU,uBACVC,QAAS,WACPjB,EAAQkB,KAAK,YAHjB","file":"static/js/23.f053331b.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Button } from \"@windmill/react-ui\";\r\n\r\nimport { API } from \"../../backend\";\r\nimport axios from \"axios\";\r\n//  CHANGE EMIAL LINKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK\r\nconst VerifyEmail = () => {\r\n  const { token } = useParams();\r\n  // console.log(\"toekn\", token);\r\n  let history = useHistory();\r\n\r\n  const verify = async () => {\r\n    try {\r\n      const payload = { token: token };\r\n      const response = await axios.post(`${API}/mail/verifyUser`, payload, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      // console.log(response.data);\r\n      setMessage(\"Email verified successfully.\");\r\n    } catch (err) {\r\n      console.log(\"VERIFY ERROR\", err);\r\n      setMessage(\"Sorry, an error occured.\");\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    // VERIFY EMAIL\r\n    verify();\r\n  }, []);\r\n  const [message, setMessage] = useState(\"Loading...\");\r\n\r\n  const loginForm = () => {\r\n    return (\r\n      <div className=\"flex items-center min-h-screen p-6 bg-gray-50 bg-gray-900\">\r\n        <div className=\"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-gray-900  shadow-xl dark:bg-gray-800\">\r\n          <div className=\"flex flex-col overflow-y-auto md:flex-row text-4xl text-white text-center font-semibold\">\r\n            {message}\r\n          </div>\r\n          <Button\r\n            className=\"w-full sm:w-auto m-5\"\r\n            onClick={() => {\r\n              history.push(\"/signin\");\r\n            }}\r\n          >\r\n            Login\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return <>{loginForm()}</>;\r\n};\r\n\r\nexport default VerifyEmail;\r\n"],"sourceRoot":""}