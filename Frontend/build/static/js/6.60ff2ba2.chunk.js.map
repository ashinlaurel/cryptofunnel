{"version":3,"sources":["components/Typography/PageTitle.js","images/user.png","pages/AdminDashboard.js"],"names":["PageTitle","children","className","Dashboard","useState","page","setPage","data","setData","refresh","setRefresh","searchquery","setSearchQuery","totalResults","setTotalResults","useEffect","a","console","log","payload","pages","limit","filters","plan","axios","url","API","UserProfile","getId","method","response","out","total","class","onChange","e","value","disabled","selected","xmlns","viewBox","d","onSubmit","preventDefault","target","placeholder","map","user","i","src","UserPng","alt","name","job","email","Date","createdAt","toLocaleDateString","resultsPerPage","label","p"],"mappings":"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","file":"static/js/6.60ff2ba2.chunk.js","sourcesContent":["import React from 'react'\n\nfunction PageTitle({ children }) {\n  return (\n    <h1 className=\"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200\">{children}</h1>\n  )\n}\n\nexport default PageTitle\n","export default __webpack_public_path__ + \"static/media/user.55758720.png\";","import React, { useState, useEffect } from \"react\";\n\nimport PageTitle from \"../components/Typography/PageTitle\";\nimport UserProfile from \"../helper/auth/UserProfile\";\nimport UserPng from \"../images/user.png\";\n\nimport {\n  TableBody,\n  TableContainer,\n  Table,\n  TableHeader,\n  TableCell,\n  TableRow,\n  TableFooter,\n  Avatar,\n  Badge,\n  Pagination,\n} from \"@windmill/react-ui\";\n\nimport axios from \"axios\";\nimport { API } from \"../backend\";\n\nfunction Dashboard() {\n  const [page, setPage] = useState(1);\n  const [data, setData] = useState([]);\n  const [tempcode, setTempCode] = useState(\"\");\n  const [refresh, setRefresh] = useState(true);\n  const [searchquery, setSearchQuery] = useState(\"\");\n\n  // pagination setup\n  const resultsPerPage = 10;\n  const [totalResults, setTotalResults] = useState(20);\n\n  // pagination change control\n  function onPageChange(p) {\n    setPage(p);\n  }\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  function openModal() {\n    setIsModalOpen(true);\n  }\n\n  function closeModal() {\n    setIsModalOpen(false);\n  }\n\n  // on page change, load new sliced data\n  // here you would make another server request for new data\n\n  useEffect(() => {\n    // Using an IIFE\n    (async function thegetter() {\n      console.log(\"getter called\");\n      let payload = {\n        pages: {\n          page: page,\n          limit: resultsPerPage,\n        },\n        filters: {\n          searchquery: searchquery,\n          plan: \"\",\n        },\n      };\n\n      try {\n        let response = await axios({\n          url: `${API}/user/${UserProfile.getId()}/getAllUsers`,\n          method: \"POST\",\n          data: payload,\n        });\n        console.log(response.data.out);\n        setTotalResults(response.data.total);\n\n        setData(response.data.out);\n      } catch (error) {\n        throw error;\n      }\n    })();\n    // setData(response.slice((page - 1) * resultsPerPage, page * resultsPerPage));\n  }, [page, searchquery, refresh]);\n\n  return (\n    <>\n      <PageTitle>Admin Dashboard</PageTitle>\n\n      {/* <CTA /> */}\n\n      <div className=\"font-bold text-gray-700 text-xl\">Users</div>\n\n      <div className=\"mb-4\">\n        {/* -------------------------------------Row 1 ------------------------------------------------------------------------------- */}\n        <div class=\"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full xl:space-x-2 \">\n          {/* ---------------------------Condition Drop Down-------------------------------------- */}\n          <div class=\"relative mx-1 \">\n            <select\n              class=\" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-1 xl:py-2  xl: px-4  leading-tight focus:outline-none   focus:bg-white focus:border-gray-500\"\n              // value={condition}\n              onChange={(e) => {\n                // setCondition(e.target.value);\n              }}\n            >\n              <option value=\"\" disabled selected>\n                Plan\n              </option>\n              <option value=\"\">All</option>\n              <option value=\"\">No Plan</option>\n              <option value=\"Good\">Gold</option>\n              <option value=\"Bad\">Silver</option>\n              <option value=\"Used\">Bronze</option>\n            </select>\n\n            <div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\n              <svg\n                class=\"fill-current h-4 w-4\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 20 20\"\n              >\n                <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n              </svg>\n            </div>\n          </div>\n\n          {/* -----------------Search Bar------------------------------------ */}\n          <div class=\"block relative xl:ml-64 mt-2 xl:mt-0 ml-1\">\n            <span class=\"h-full absolute inset-y-0 left-0 flex items-center pl-2\">\n              <svg\n                viewBox=\"0 0 24 24\"\n                class=\"h-4 w-4 fill-current text-gray-500\"\n              >\n                <path d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\"></path>\n              </svg>\n            </span>\n            <form\n              onSubmit={(e) => {\n                e.preventDefault();\n                setRefresh(!refresh);\n              }}\n            >\n              <input\n                value={searchquery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"Search\"\n                class=\"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block py-1 px-8  xl:pl-8 xl:pr-6 xl:py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\n              />\n            </form>\n          </div>\n\n          {/* <div class=\"block relative xl:ml-64\">\n            <Button\n              layout=\"outline\"\n              onClick={() => {\n                // setIsDwnldModalOpen(true);\n              }}\n            >\n              Download Database\n            </Button>\n          </div> */}\n        </div>\n      </div>\n\n      <TableContainer>\n        <Table>\n          <TableHeader>\n            <tr>\n              {/* <TableCell>Client</TableCell> */}\n              <TableCell>User</TableCell>\n              <TableCell>Email</TableCell>\n              <TableCell>Created At</TableCell>\n              <TableCell>Plan</TableCell>\n            </tr>\n          </TableHeader>\n          <TableBody>\n            {data.map((user, i) => (\n              <TableRow key={i}>\n                <TableCell>\n                  <div className=\"flex items-center text-sm\">\n                    <Avatar\n                      className=\"hidden mr-3 md:block\"\n                      src={UserPng}\n                      alt=\"User image\"\n                    />\n                    <div>\n                      <p className=\"font-semibold\">{user.name}</p>\n                      <p className=\"text-xs text-gray-600 dark:text-gray-400\">\n                        {user.job}\n                      </p>\n                    </div>\n                  </div>\n                </TableCell>\n\n                <TableCell>\n                  <span className=\"text-sm \">{user.email}</span>\n                </TableCell>\n                <TableCell>\n                  <span className=\"text-sm\">\n                    {new Date(user.createdAt).toLocaleDateString()}\n                  </span>\n                </TableCell>\n                <TableCell>\n                  <span className=\"text-sm  font-bold \">Gold</span>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        <TableFooter>\n          <Pagination\n            totalResults={totalResults}\n            resultsPerPage={resultsPerPage}\n            label=\"Table navigation\"\n            onChange={onPageChange}\n          />\n        </TableFooter>\n      </TableContainer>\n    </>\n  );\n}\n\nexport default Dashboard;\n"],"sourceRoot":""}