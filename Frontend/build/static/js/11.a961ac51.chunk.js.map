{"version":3,"sources":["components/Typography/PageTitle.js","pages/Payment/ConfirmPayment.js"],"names":["PageTitle","children","className","ConfirmPayment","useHistory","useParams","status","sessionId","refCode","refStatus","useState","values","setValues","getCustomerInfo","a","console","log","payload","id","UserProfile","getId","Axios","url","API","method","data","res","product","description","setRole","useEffect","currency","amount_subtotal"],"mappings":"uHAAA,gBAQeA,IANf,YAAkC,IAAbC,EAAY,EAAZA,SACnB,OACE,oBAAIC,UAAU,+DAAd,SAA8ED,M,0LCcnE,SAASE,IACRC,cAAd,IACA,EAAkDC,cAA1CC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UAAWC,EAA3B,EAA2BA,QAASC,EAApC,EAAoCA,UACpC,EAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KAGMC,EAAe,uCAAG,8BAAAC,EAAA,6DAEtBC,QAAQC,IAAI,QAASV,EAAQC,EAAWC,EAASC,GAC7CQ,EAAU,CACZC,GAAIC,IAAYC,QAChBb,UAAWA,EACXC,QAASA,EACTC,UAAWA,GAPS,kBAWJY,IAAM,CACpBC,IAAI,GAAD,OAAKC,IAAL,oBAAoBJ,IAAYC,QAAhC,mBACHI,OAAQ,OACRC,KAAMR,IAdY,OAWhBS,EAXgB,OAiBpBX,QAAQC,IAAI,OAAQU,EAAID,KAAKE,SAC7Bf,EAAUc,EAAID,KAAKE,SACnBZ,QAAQC,IAAIU,EAAID,KAAKE,QAAQC,aAC7BT,IAAYU,QAAQ,GApBA,kDAuBpBd,QAAQC,IAAR,cAvBoB,0DAAH,qDA+BrB,OAJAc,qBAAU,WACRjB,MACC,IAGD,gCACE,cAAC,IAAD,sCAGA,cAAC,OAAD,CAAMX,UAAU,iBAAhB,SACE,cAAC,WAAD,UACE,qBAAKA,UAAU,2BAAf,SACE,sBAAKA,UAAU,QAAf,UACE,oBAAGA,UAAU,4CAAb,UACE,sBAAMA,UAAU,gBAAhB,kCAA4D,OAE9D,oBAAGA,UAAU,gDAAb,UACE,uBAAMA,UAAU,gBAAhB,UACG,IADH,gBAGE,uBAAMA,UAAU,gCAAhB,UACGS,EAAOiB,YAAa,UAEjB,OAEV,mBAAG1B,UAAU,gDAAb,SACE,uBAAMA,UAAU,gBAAhB,UACG,IADH,SAGE,uBAAMA,UAAU,gCAAhB,UACsB,OAAnBS,EAAOoB,SAAoB,8CAAS,yCACpCpB,EAAOqB,gBAAkB,YAIhC,oBAAG9B,UAAU,qBAAb,UACG,IADH","file":"static/js/11.a961ac51.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nfunction PageTitle({ children }) {\r\n  return (\r\n    <h1 className=\"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200\">{children}</h1>\r\n  )\r\n}\r\n\r\nexport default PageTitle\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams, Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport { API } from \"../../backend\";\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Input,\r\n  HelperText,\r\n  Label,\r\n  Button,\r\n  Badge,\r\n  Select,\r\n} from \"@windmill/react-ui\";\r\nimport PageTitle from \"../../components/Typography/PageTitle\";\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from \"@windmill/react-ui\";\r\nimport Axios from \"axios\";\r\nimport UserProfile from \"../../helper/auth/UserProfile\";\r\n\r\nexport default function ConfirmPayment() {\r\n  let history = useHistory();\r\n  const { status, sessionId, refCode, refStatus } = useParams();\r\n  const [values, setValues] = useState({});\r\n  // console.log(id);\r\n\r\n  const getCustomerInfo = async () => {\r\n    // console.log(`getting customer info`, UserProfile.getId());\r\n    console.log(\"PROPS\", status, sessionId, refCode, refStatus);\r\n    let payload = {\r\n      id: UserProfile.getId(),\r\n      sessionId: sessionId,\r\n      refCode: refCode,\r\n      refStatus: refStatus,\r\n    };\r\n    // console.log(API);\r\n    try {\r\n      let res = await Axios({\r\n        url: `${API}/payment/${UserProfile.getId()}/confirmpayment`,\r\n        method: \"POST\",\r\n        data: payload,\r\n      });\r\n\r\n      console.log(\"Done\", res.data.product);\r\n      setValues(res.data.product);\r\n      console.log(res.data.product.description);\r\n      UserProfile.setRole(3);\r\n      //   console.log(\"Hello\");\r\n    } catch (error) {\r\n      console.log(`error`, error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getCustomerInfo();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <PageTitle>Payment Successful !!! </PageTitle>\r\n\r\n      {/* <SectionTitle> </SectionTitle> */}\r\n      <Card className=\"mb-8 shadow-md\">\r\n        <CardBody>\r\n          <div className=\"flex flex-row flex-wrap \">\r\n            <div className=\"w-1/2\">\r\n              <p className=\"text-lg  text-gray-800 dark:text-gray-100\">\r\n                <span className=\"font-semibold\"> Payment Information</span>{\" \"}\r\n              </p>\r\n              <p className=\"text-md text-gray-700 dark:text-gray-100 py-2\">\r\n                <span className=\"font-semibold\">\r\n                  {\" \"}\r\n                  Product Name:\r\n                  <span className=\"text-xl text-primary-600 mx-3\">\r\n                    {values.description}{\" \"}\r\n                  </span>\r\n                </span>{\" \"}\r\n              </p>\r\n              <p className=\"text-md text-gray-700 dark:text-gray-100 py-2\">\r\n                <span className=\"font-semibold\">\r\n                  {\" \"}\r\n                  Price:\r\n                  <span className=\"text-xl text-primary-600 mx-3\">\r\n                    {values.currency == \"inr\" ? <>â‚¹</> : <>$</>}\r\n                    {values.amount_subtotal / 100}\r\n                  </span>\r\n                </span>\r\n              </p>\r\n              <p className=\"text-secondary-400\">\r\n                {\" \"}\r\n                We will contant you with you shortly with more information\r\n                regarding the amazing crouse you just bought! For any queries\r\n                mail us at support@thecfsquad.com.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </CardBody>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}