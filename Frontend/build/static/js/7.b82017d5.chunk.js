(this["webpackJsonpcrypto-funnel"]=this["webpackJsonpcrypto-funnel"]||[]).push([[7],{178:function(e,t,s){"use strict";s(1);var a=s(0);t.a=function(e){var t=e.children;return Object(a.jsx)("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:t})}},179:function(e,t,s){"use strict";t.a=s.p+"static/media/user.55758720.png"},196:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return f}));var a=s(17),c=s.n(a),l=s(27),r=s(6),n=s(1),d=s(15),o=s(26),i=s(179),j=s(182),b=s.n(j),x=s(5),m=s(178),u=s(32),h=s.n(u),O=s(14),p=s(0);function f(){Object(d.g)();var e=Object(d.i)().id,t=Object(n.useState)(!1),s=Object(r.a)(t,2),a=(s[0],s[1],Object(n.useState)(!1)),j=Object(r.a)(a,2),u=j[0],f=j[1],g=Object(n.useState)(!1),y=Object(r.a)(g,2),w=y[0],v=y[1],N=Object(n.useState)(""),C=Object(r.a)(N,2),k=C[0],P=C[1],S=Object(n.useState)(""),T=Object(r.a)(S,2),I=T[0],B=T[1],M=Object(n.useState)(""),D=Object(r.a)(M,2),A=D[0],z=D[1],F=Object(n.useState)([]),H=Object(r.a)(F,2),L=H[0],R=H[1],U=Object(n.useState)(!0),Y=Object(r.a)(U,2),G=Y[0],E=Y[1],J=Object(n.useState)(""),_=Object(r.a)(J,2),W=_[0],Z=_[1],$=Object(n.useState)(1),q=Object(r.a)($,2),K=(q[0],q[1]),Q=Object(n.useState)([]),V=Object(r.a)(Q,2),X=V[0],ee=(V[1],Object(n.useState)(20)),te=Object(r.a)(ee,2),se=te[0],ae=(te[1],Object(n.useState)(!1)),ce=Object(r.a)(ae,2),le=ce[0],re=ce[1];var ne=Object(n.useState)({employeeID:"",username:"",email:"",customerName:"",address:"",district:"",state:"",locationType:"",pincode:"",GSTnumber:"",contactPerson:"",contactNo:"",altContact:"",WhatsappNo:"",role:0,parentCustomerId:"",show_password:""}),de=Object(r.a)(ne,2),oe=de[0],ie=de[1],je=Object(n.useState)({email:"",name:"",enc_password:"",confpassword:""}),be=Object(r.a)(je,2),xe=(be[0],be[1],function(){var t=Object(l.a)(c.a.mark((function t(){var s,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={id:e,pass:k},t.prev=1,t.next=4,h()({url:"".concat(o.a,"/").concat(e,"/resetpassword"),method:"POST",data:s});case 4:a=t.sent,v(!0),f(!1),console.log("Done",a),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(1),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}()),me=function(){var t=Object(l.a)(c.a.mark((function t(){var s,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={id:e},t.prev=1,t.next=4,h()({url:"".concat(o.a,"/userinfo"),method:"POST",data:s});case 4:a=t.sent,console.log("Done",a.data),ie(a.data[0]),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("error",t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),ue=function(){var t=Object(l.a)(c.a.mark((function t(){var s,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("checker called"),s={pages:{page:1,limit:10},filters:{creatorId:e,fromDate:"",toDate:""}},t.prev=2,t.next=5,h()({url:"".concat(o.a,"/refferal/").concat(O.a.getId(),"/getbyuser"),method:"POST",data:s});case 5:a=t.sent,console.log("the code getting",a.data.out[0]),R(a.data.out[0]),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(2),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:return e.next=4,ue();case 4:case"end":return e.stop()}}),e)}))),[G]);return Object(p.jsxs)("div",{children:[Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(x.Modal,{isOpen:u,onClose:function(){return f(!1)},children:[Object(p.jsxs)(x.ModalHeader,{children:["Change Password for ",oe.username,"!"]}),Object(p.jsx)(x.ModalBody,{children:Object(p.jsxs)("div",{className:"px-4 py-3 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[Object(p.jsxs)(x.Label,{children:[Object(p.jsx)("span",{children:"New Password"}),Object(p.jsx)(x.Input,{className:"mt-5",type:"password",value:k,onChange:function(e){return P(e.target.value)},placeholder:"New Password"})]})," ",Object(p.jsxs)(x.Label,{children:[Object(p.jsx)("span",{children:"Confirm Password"}),Object(p.jsx)(x.Input,{className:"my-5",type:"password",placeholder:"Confirm Password",value:I,onChange:function(e){B(e.target.value),e.target.value!=k?z("Passwords do not match!"):z("")}})]}),Object(p.jsx)(x.HelperText,{valid:!1,children:A})]})}),Object(p.jsx)(x.ModalFooter,{children:Object(p.jsx)(x.Button,{className:"w-full sm:w-auto",onClick:function(){k===I&&xe()},children:"Change Password"})})]})}),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(x.Modal,{isOpen:w,onClose:function(){return v(!1)},children:[Object(p.jsx)(x.ModalHeader,{children:"Password Updated Successfully!"}),Object(p.jsx)(x.ModalBody,{}),Object(p.jsx)(x.ModalFooter,{children:Object(p.jsx)(x.Button,{className:"w-full sm:w-auto",onClick:function(){return v(!1)},children:"Okay!"})})]})}),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(x.Modal,{isOpen:le,onClose:function(){return re(!1)},children:[Object(p.jsx)(x.ModalHeader,{children:'Click "Paid" to reset amount and mark as paid.'}),Object(p.jsx)(x.ModalBody,{}),Object(p.jsx)(x.ModalFooter,{children:Object(p.jsx)(x.Button,{className:"w-full sm:w-auto",onClick:Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("".concat(o.a,"/user/").concat(O.a.getId(),"/markInfluencerPaid"),{id:e});case 3:t.sent,re(!1),E(!G),console.log("success"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),children:"Paid!"})})]})}),Object(p.jsxs)(m.a,{children:["Profile Information ",oe.name]}),Object(p.jsx)(x.Card,{className:"mb-2 mt-24 shadow-md overflow-visible",children:Object(p.jsx)(x.CardBody,{children:Object(p.jsx)("div",{className:"w-full -mt-20 z-30 flex items-center justify-center ",children:Object(p.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[Object(p.jsx)("img",{className:"h-32 w-32 bg-white",src:i.a}),Object(p.jsx)("div",{className:"mt-2 text-2xl font-sans font-semibold",children:oe.userId?oe.userId.name:""}),Object(p.jsx)("div",{className:" text-lg ",children:"Influencer"})]})})})}),Object(p.jsxs)("div",{className:"flex flex-row flex-wrap xl:flex-nowrap xl:space-x-3  justify-left",children:[Object(p.jsx)(x.Card,{className:"mb-4 w-full xl:w-1/3   shadow-md overflow-visible",children:Object(p.jsx)(x.CardBody,{children:Object(p.jsxs)("div",{className:"",children:[Object(p.jsxs)("p",{className:"text-lg  text-gray-800 dark:text-gray-100",children:[Object(p.jsx)("span",{className:"font-semibold",children:" Personal Information"})," "]}),Object(p.jsxs)("p",{className:"text-md text-gray-700 dark:text-gray-100 py-1",children:[Object(p.jsx)("span",{className:"font-semibold",children:" Name:"})," ",oe.userId?oe.userId.name:""]}),Object(p.jsxs)("p",{className:"text-md text-gray-700 dark:text-gray-100 py-1",children:[Object(p.jsx)("span",{className:"font-semibold",children:" Email:"})," ",oe.email]}),Object(p.jsxs)("p",{className:"text-md text-gray-700 dark:text-gray-100 py-1",children:[Object(p.jsx)("span",{className:"font-semibold",children:" Phone:"})," ",oe.phone]})]})})}),Object(p.jsx)(x.Card,{className:"mb-4 w-full xl:w-1/3  shadow-md overflow-visible",children:Object(p.jsx)(x.CardBody,{children:Object(p.jsxs)("div",{className:" ",children:[Object(p.jsxs)("p",{className:"text-lg  text-gray-800 dark:text-gray-100",children:[Object(p.jsx)("span",{className:"font-semibold",children:" Contact Information"})," "]}),Object(p.jsxs)("p",{className:"text-md text-gray-700 dark:text-gray-100 py-1",children:[Object(p.jsx)("span",{className:"font-semibold",children:" Address:"})," ",oe.address]}),Object(p.jsxs)("p",{className:"text-md text-gray-700 dark:text-gray-100 py-1",children:[Object(p.jsx)("span",{className:"font-semibold",children:" City:"})," ",oe.city]}),Object(p.jsxs)("p",{className:"text-md text-gray-700 dark:text-gray-100 py-1",children:[Object(p.jsx)("span",{className:"font-semibold",children:" State:"})," ",oe.state]}),Object(p.jsxs)("p",{className:"text-md text-gray-700 dark:text-gray-100 py-1",children:[Object(p.jsx)("span",{className:"font-semibold",children:" Country:"})," ",oe.country]}),Object(p.jsxs)("p",{className:"text-md text-gray-700 dark:text-gray-100 py-1",children:[Object(p.jsx)("span",{className:"font-semibold",children:" Zip:"})," ",oe.zip]})]})})}),Object(p.jsx)(x.Card,{className:"mb-4 w-full xl:w-1/3   shadow-md overflow-visible",children:Object(p.jsx)(x.CardBody,{children:Object(p.jsxs)("div",{className:"",children:[Object(p.jsxs)("p",{className:"text-lg  text-gray-800 dark:text-gray-100",children:[Object(p.jsx)("span",{className:"font-semibold",children:" Amount Payable"})," "]}),Object(p.jsxs)("p",{className:"text-md text-gray-700 dark:text-gray-100 py-1",children:[Object(p.jsx)("span",{className:"font-semibold",children:" Amount:"})," $ ",oe.userId?oe.userId.payable:""]}),Object(p.jsxs)("p",{className:"text-md text-gray-700 dark:text-gray-100 py-1",children:[Object(p.jsx)("span",{className:"font-semibold",children:" Last Paid:"})," ",oe.userId?b()(oe.userId.lastpaid).format("DD-MM-YYYY"):""]}),1==O.a.getRole()?Object(p.jsx)("div",{className:"flex  items-center justify-center mt-10  ",children:Object(p.jsx)(x.Button,{layout:"outline",className:"w-3/4",onClick:function(){return re(!0)},children:"Mark as Paid"})}):null]})})})]}),Object(p.jsx)(x.Card,{className:"mb-8  shadow-md overflow-visible",children:Object(p.jsx)(x.CardBody,{children:Object(p.jsxs)("div",{className:"",children:[Object(p.jsxs)("p",{className:"text-lg  text-gray-800 dark:text-gray-100",children:[Object(p.jsx)("span",{className:"font-semibold",children:" Assigned Refferal Code"})," "]}),Object(p.jsxs)("p",{className:"text-md text-gray-700 dark:text-gray-100 pt-2",children:[Object(p.jsx)("span",{className:"font-semibold",children:" Code:"})," ",L?L.refCode:null]}),Object(p.jsxs)("p",{className:"text-md text-gray-700 dark:text-gray-100 ",children:[Object(p.jsx)("span",{className:"font-semibold",children:" Discount:"})," ",L?L.discount:null,"%"]})]})})}),Object(p.jsx)(x.Card,{className:"mb-8  shadow-md overflow-visible",children:Object(p.jsxs)(x.CardBody,{children:[Object(p.jsxs)("div",{className:"text-lg  text-gray-800 dark:text-gray-100 mb-6",children:[Object(p.jsx)("span",{className:"font-semibold",children:"Refferal Usage History"})," "]}),Object(p.jsx)("div",{className:"mb-4",children:Object(p.jsxs)("div",{class:"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full xl:space-x-2 ",children:[Object(p.jsxs)("div",{class:"relative mx-1 ",children:[Object(p.jsxs)("select",{class:" shadow-md h-full rounded border block appearance-none w-full bg-white border-gray-400 text-gray-700 py-1 xl:py-2  xl: px-4  leading-tight focus:outline-none   focus:bg-white focus:border-gray-500",onChange:function(e){},children:[Object(p.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Plan"}),Object(p.jsx)("option",{value:"",children:"All"}),Object(p.jsx)("option",{value:"",children:"No Plan"}),Object(p.jsx)("option",{value:"Good",children:"Gold"}),Object(p.jsx)("option",{value:"Bad",children:"Silver"}),Object(p.jsx)("option",{value:"Used",children:"Bronze"})]}),Object(p.jsx)("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:Object(p.jsx)("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(p.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}),Object(p.jsxs)("div",{class:"block relative xl:ml-64 mt-2 xl:mt-0 ml-1",children:[Object(p.jsx)("span",{class:"h-full absolute inset-y-0 left-0 flex items-center pl-2",children:Object(p.jsx)("svg",{viewBox:"0 0 24 24",class:"h-4 w-4 fill-current text-gray-500",children:Object(p.jsx)("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"})})}),Object(p.jsx)("form",{onSubmit:function(e){e.preventDefault(),E(!G)},children:Object(p.jsx)("input",{value:W,onChange:function(e){return Z(e.target.value)},placeholder:"Search",class:"shadow-md z-20 appearance-none rounded border border-gray-400 border-b block py-1 px-8  xl:pl-8 xl:pr-6 xl:py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none"})})]})]})}),Object(p.jsxs)(x.TableContainer,{children:[Object(p.jsxs)(x.Table,{children:[Object(p.jsx)(x.TableHeader,{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)(x.TableCell,{children:"User"}),Object(p.jsx)(x.TableCell,{children:"Date"}),Object(p.jsx)(x.TableCell,{children:"Status"}),Object(p.jsx)(x.TableCell,{children:"Amount"}),Object(p.jsx)(x.TableCell,{children:"Plan"})]})}),Object(p.jsx)(x.TableBody,{children:X.map((function(e,t){return Object(p.jsxs)(x.TableRow,{children:[Object(p.jsx)(x.TableCell,{children:Object(p.jsxs)("div",{className:"flex items-center text-sm",children:[Object(p.jsx)(x.Avatar,{className:"hidden mr-3 md:block",src:i.a,alt:"User image"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{className:"font-semibold",children:e.customerId.name}),Object(p.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.customerId.email})]})]})}),Object(p.jsx)(x.TableCell,{children:Object(p.jsx)("p",{className:"font-semibold text-sm",children:new Date(e.createdAt).toLocaleDateString()})}),Object(p.jsx)(x.TableCell,{children:Object(p.jsx)(x.Badge,{className:"text-sm ",children:e.paymentStatus})}),Object(p.jsx)(x.TableCell,{children:Object(p.jsx)("span",{className:"text-sm font-bold",children:parseInt(e.amountTotal)/100})}),Object(p.jsx)(x.TableCell,{children:Object(p.jsx)("span",{className:"text-sm   ",children:e.planName})})]},t)}))})]}),Object(p.jsx)(x.TableFooter,{children:Object(p.jsx)(x.Pagination,{totalResults:se,resultsPerPage:10,label:"Table navigation",onChange:function(e){K(e)}})})]})]})})]})}}}]);
//# sourceMappingURL=7.b82017d5.chunk.js.map