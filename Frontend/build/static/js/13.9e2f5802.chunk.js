(this["webpackJsonpcrypto-funnel"]=this["webpackJsonpcrypto-funnel"]||[]).push([[13],{178:function(e,t,c){"use strict";c(1);var a=c(0);t.a=function(e){var t=e.children;return Object(a.jsx)("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:t})}},192:function(e,t,c){"use strict";c.r(t);var a=c(8),r=c.n(a),n=c(19),l=c(6),s=c(1),o=c(178),d=c(15),i=c(5),b=c(20),j=c.n(b),u=c(18),x=c(0);t.default=function(){var e=Object(s.useState)(1),t=Object(l.a)(e,2),c=t[0],a=t[1],b=Object(s.useState)([]),h=Object(l.a)(b,2),O=h[0],f=h[1],p=Object(s.useState)(""),g=Object(l.a)(p,2),m=g[0],y=g[1],v=Object(s.useState)("0"),w=Object(l.a)(v,2),C=w[0],k=w[1],N=Object(s.useState)(!0),S=Object(l.a)(N,2),T=S[0],D=S[1],B=Object(s.useState)(""),I=Object(l.a)(B,2),z=I[0],M=I[1],A=Object(s.useState)(""),F=Object(l.a)(A,2),R=F[0],P=F[1],H=Object(s.useState)(""),E=Object(l.a)(H,2),J=E[0],_=E[1],G=Object(s.useState)(!1),L=Object(l.a)(G,2),Y=L[0],q=L[1],K=Object(s.useState)(""),Q=Object(l.a)(K,2),U=Q[0],V=Q[1],W=Object(s.useState)(20),X=Object(l.a)(W,2),Z=X[0],$=X[1],ee=Object(s.useState)(!1),te=Object(l.a)(ee,2),ce=te[0],ae=te[1];function re(){ae(!1)}Object(s.useEffect)((function(){!function(){var e=Object(n.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getter called"),t={pages:{page:c,limit:10},filters:{creatorId:J,fromDate:z,toDate:R}},e.prev=2,e.next=5,j()({url:"".concat(u.a,"/refferal/").concat(d.a.getId(),"/getbyuser"),method:"POST",data:t});case 5:a=e.sent,console.log(a.data.out),$(a.data.total),f(a.data.out),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}()()}),[c,T,z,R,J]);var ne=function(){var e=Object(n.a)(r.a.mark((function e(){var t,c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.a.getId(),c={creatorId:t},e.next=4,j.a.post("".concat(u.a,"/refferal/").concat(d.a.getId(),"/getNewCode"),c);case 4:a=e.sent,console.log(a.data),y(a.data),ae(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(n.a)(r.a.mark((function e(){var t,c,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.a.getId(),c=d.a.getName(),console.log(t),a={creatorName:c,creatorId:t,refCode:m,discount:C},e.next=6,j.a.post("".concat(u.a,"/refferal/").concat(d.a.getId(),"/createnew"),a);case 6:n=e.sent,console.log(n.data),y(""),k(""),D(!T),ae(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(n.a)(r.a.mark((function e(t){var c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat(u.a,"/refferal/").concat(d.a.getId(),"/deleteRefferal"),{id:t});case 3:c=e.sent,console.log(c),a=O.filter((function(e){return e._id!=t})),f(a),V("Deleted"),q(!0),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Delete error",e.t0),V("Sorry,an error occured"),q(!0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(i.Modal,{isOpen:ce,onClose:re,children:[Object(x.jsx)(i.ModalHeader,{children:"New Refferal Code"}),Object(x.jsxs)(i.ModalBody,{children:["You can use the following refferal code to get a discount !!",Object(x.jsxs)("div",{className:"flex items-center justify-left my-2",children:[Object(x.jsxs)("label",{children:["Code:",Object(x.jsx)("div",{className:"bg-gray-700 my-2 flex font-bold py-2 px-32 text-lg  text-white items-center justify-center rounded-lg",children:Object(x.jsx)("div",{children:m})})]}),Object(x.jsx)("div",{class:" relative ml-2",children:Object(x.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(x.jsxs)("label",{children:["Discount(%)",Object(x.jsx)("input",{value:C,onChange:function(e){return k(e.target.value)},placeholder:"Enter the discount %",class:"shadow-md z-20 my-2 appearance-none rounded border border-gray-600 border-b block pl-2 pr-6 py-2 placeholder-gray-100 w-full bg-cool-gray-900 text-sm placeholder-gray-410 text-gray-100  fne-none"})]})})})]})]}),Object(x.jsxs)(i.ModalFooter,{children:[Object(x.jsx)("div",{className:"hidden sm:block",children:Object(x.jsx)(i.Button,{layout:"outline",onClick:re,children:"Cancel"})}),Object(x.jsx)("div",{className:"hidden sm:block",children:Object(x.jsx)(i.Button,{onClick:le,children:"Accept"})}),Object(x.jsx)("div",{className:"block w-full sm:hidden",children:Object(x.jsx)(i.Button,{block:!0,size:"large",layout:"outline",onClick:re,children:"Cancel"})}),Object(x.jsx)("div",{className:"block w-full sm:hidden",children:Object(x.jsx)(i.Button,{onClick:le,block:!0,size:"large",children:"Accept"})})]})]}),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(i.Modal,{isOpen:Y,onClose:function(){return q(!1)},children:[Object(x.jsx)(i.ModalHeader,{children:U}),Object(x.jsx)(i.ModalBody,{}),Object(x.jsx)(i.ModalFooter,{children:Object(x.jsx)(i.Button,{className:"w-full sm:w-auto",onClick:function(){return q(!1)},children:"Okay!"})})]})}),Object(x.jsx)(o.a,{children:"Refferals "}),Object(x.jsx)("div",{className:"mt-2 mb-4",children:Object(x.jsx)(i.Button,{onClick:ne,size:"large",children:"Get New Refferal Code +"})}),Object(x.jsx)("div",{className:"mb-4",children:Object(x.jsxs)("div",{class:"my-2 flex sm:flex-row flex-col items-start sm:items-center sm:justify-left h-full space-x-2 ",children:[Object(x.jsxs)("label",{className:"text-gray-100 mb-1 text-sm",children:["Created By:",Object(x.jsxs)("div",{class:"relative  ",children:[Object(x.jsxs)("select",{class:" shadow-md h-full rounded border block appearance-none placeholder-gray-100 w-full bg-cool-gray-900 border-gray-600 text-gray-100 py-2 px-4 pr-8 leading-tight ",onChange:function(e){_(e.target.value)},children:[Object(x.jsx)("option",{selected:!0,value:"",children:"All"}),Object(x.jsx)("option",{value:d.a.getId(),children:"Admin"})]}),Object(x.jsx)("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-100"})]})]}),Object(x.jsxs)("label",{className:"text-gray-100 mb-1 text-sm",children:["Search:",Object(x.jsxs)("div",{class:"block relative ",children:[Object(x.jsx)("span",{class:"h-full absolute inset-y-0 left-0 flex items-center pl-2",children:Object(x.jsx)("svg",{viewBox:"0 0 24 24",class:"h-4 w-4 fill-current text-gray-500",children:Object(x.jsx)("path",{d:"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"})})}),Object(x.jsx)("form",{onSubmit:function(e){e.preventDefault(),D(!T)},children:Object(x.jsx)("input",{placeholder:"Search",class:"shadow-md z-20 appearance-none rounded border border-gray-600 border-b block pl-8 pr-6 py-2 placeholder-gray-100 w-full bg-cool-gray-900 text-sm  text-gray-100  fne-none"})})]})]}),Object(x.jsxs)("label",{className:"text-gray-100 mb-1 text-sm",children:[Object(x.jsx)("span",{children:"From Date"}),Object(x.jsx)("input",{class:"shadow-md z-20 appearance-none rounded border border-gray-600 border-b block pl-8 pr-6 py-2 placeholder-gray-100 w-full bg-cool-gray-900 text-sm  text-gray-100  fne-none",type:"date",value:z,onChange:function(e){return M(e.target.value)}})]}),Object(x.jsxs)("label",{className:"text-gray-100 mb-1 text-sm",children:[Object(x.jsx)("span",{children:"To Date"}),Object(x.jsx)("input",{class:"shadow-md z-20 appearance-none rounded border border-gray-600 border-b block pl-8 pr-6 py-2 placeholder-gray-100 w-full bg-cool-gray-900 text-sm placeholder-gray-410 text-gray-100  fne-none",type:"date",value:R,onChange:function(e){return P(e.target.value)}})]})]})}),Object(x.jsxs)(i.TableContainer,{children:[Object(x.jsxs)(i.Table,{children:[Object(x.jsx)(i.TableHeader,{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)(i.TableCell,{children:"Code"}),Object(x.jsx)(i.TableCell,{children:"Discount"}),Object(x.jsx)(i.TableCell,{children:"Status"}),Object(x.jsx)(i.TableCell,{children:"Created At"}),Object(x.jsx)(i.TableCell,{children:"Delete"})]})}),Object(x.jsx)(i.TableBody,{children:O.map((function(e,t){return Object(x.jsxs)(i.TableRow,{children:[Object(x.jsx)(i.TableCell,{children:Object(x.jsx)("span",{className:"text-sm text-white bg-gray-600 py-1 px-2 font-bold rounded-lg",children:e.refCode})}),Object(x.jsx)(i.TableCell,{children:Object(x.jsxs)("span",{className:"text-sm ",children:[e.discount,"%"]})}),Object(x.jsx)(i.TableCell,{children:Object(x.jsx)(i.Badge,{type:e.status,children:"Active"})}),Object(x.jsx)(i.TableCell,{children:Object(x.jsx)("span",{className:"text-sm",children:new Date(e.createdAt).toLocaleDateString()})}),Object(x.jsx)(i.TableCell,{children:Object(x.jsx)(i.Button,{layout:"outline",onClick:function(){return se(e._id)},children:"Delete"})})]},t)}))})]}),Object(x.jsx)(i.TableFooter,{children:Object(x.jsx)(i.Pagination,{totalResults:Z,resultsPerPage:10,label:"Table navigation",onChange:function(e){a(e)}})})]})]})}}}]);
//# sourceMappingURL=13.9e2f5802.chunk.js.map