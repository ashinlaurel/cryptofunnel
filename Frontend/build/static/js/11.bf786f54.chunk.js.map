{"version":3,"sources":["components/Typography/PageTitle.js","pages/Payment/ConfirmPayment.js"],"names":["PageTitle","children","className","ConfirmPayment","useHistory","useParams","status","sessionId","refCode","refStatus","useState","values","setValues","paystatus","setpayStatus","getCustomerInfo","a","console","log","payload","id","UserProfile","getId","Axios","url","API","method","data","res","product","description","setRole","useEffect","currency","amount_subtotal"],"mappings":"uHAAA,gBAQeA,IANf,YAAkC,IAAbC,EAAY,EAAZA,SACnB,OACE,oBAAIC,UAAU,+DAAd,SAA8ED,M,0LCcnE,SAASE,IACRC,cAAd,IACA,EAAkDC,cAA1CC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UAAWC,EAA3B,EAA2BA,QAASC,EAApC,EAAoCA,UACpC,EAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAkCF,mBAAS,WAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KAGMC,EAAe,uCAAG,8BAAAC,EAAA,6DAEtBC,QAAQC,IAAI,QAASZ,EAAQC,EAAWC,EAASC,GAC7CU,EAAU,CACZC,GAAIC,IAAYC,QAChBf,UAAWA,EACXC,QAASA,EACTC,UAAWA,GAPS,kBAWJc,IAAM,CACpBC,IAAI,GAAD,OAAKC,IAAL,oBAAoBJ,IAAYC,QAAhC,mBACHI,OAAQ,OACRC,KAAMR,IAdY,OAWhBS,EAXgB,OAiBpBX,QAAQC,IAAI,OAAQU,EAAID,KAAKE,SAC7BjB,EAAUgB,EAAID,KAAKE,SACnBZ,QAAQC,IAAIU,EAAID,KAAKE,QAAQC,aAC7BT,IAAYU,QAAQ,GAEpBjB,EAAa,WAtBO,kDAwBpBG,QAAQC,IAAR,cACAJ,EAAa,SAzBO,0DAAH,qDAiCrB,OAJAkB,qBAAU,WACRjB,MACC,IAGD,8BACgB,WAAbF,EACC,qCACE,cAAC,IAAD,mCAGA,cAAC,OAAD,CAAMX,UAAU,iBAAhB,SACE,cAAC,WAAD,UACE,qBAAKA,UAAU,2BAAf,SACE,sBAAKA,UAAU,QAAf,UACE,oBAAGA,UAAU,4CAAb,UACE,sBAAMA,UAAU,gBAAhB,kCAA4D,OAE9D,oBAAGA,UAAU,gDAAb,UACE,uBAAMA,UAAU,gBAAhB,UACG,IADH,gBAGE,uBAAMA,UAAU,+BAAhB,UACGS,EAAOmB,YAAa,UAEjB,OAEV,mBAAG5B,UAAU,gDAAb,SACE,uBAAMA,UAAU,gBAAhB,UACG,IADH,SAGE,uBAAMA,UAAU,+BAAhB,UACsB,OAAnBS,EAAOsB,SAAoB,8CAAS,yCACpCtB,EAAOuB,gBAAkB,YAIhC,oBAAGhC,UAAU,gBAAb,UACG,IADH,2KAWK,SAAbW,EACF,qCACE,cAAC,IAAD,sCAGA,cAAC,OAAD,CAAMX,UAAU,iBAAhB,SACE,cAAC,WAAD,UACE,qBAAKA,UAAU,2BAAf,SACE,sBAAKA,UAAU,QAAf,UACE,oBAAGA,UAAU,4CAAb,UACE,sBAAMA,UAAU,gBAAhB,kCAA4D,OAG9D,oBAAGA,UAAU,gBAAb,UACG,IADH,0HAWV,mCACE,cAAC,IAAD","file":"static/js/11.bf786f54.chunk.js","sourcesContent":["import React from 'react'\n\nfunction PageTitle({ children }) {\n  return (\n    <h1 className=\"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200\">{children}</h1>\n  )\n}\n\nexport default PageTitle\n","import React, { useEffect, useState } from \"react\";\nimport { useParams, Link, useHistory, useLocation } from \"react-router-dom\";\nimport { API } from \"../../backend\";\nimport {\n  Card,\n  CardBody,\n  Input,\n  HelperText,\n  Label,\n  Button,\n  Badge,\n  Select,\n} from \"@windmill/react-ui\";\nimport PageTitle from \"../../components/Typography/PageTitle\";\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from \"@windmill/react-ui\";\nimport Axios from \"axios\";\nimport UserProfile from \"../../helper/auth/UserProfile\";\n\nexport default function ConfirmPayment() {\n  let history = useHistory();\n  const { status, sessionId, refCode, refStatus } = useParams();\n  const [values, setValues] = useState({});\n  const [paystatus, setpayStatus] = useState(\"loading\");\n  // console.log(id);\n\n  const getCustomerInfo = async () => {\n    // console.log(`getting customer info`, UserProfile.getId());\n    console.log(\"PROPS\", status, sessionId, refCode, refStatus);\n    let payload = {\n      id: UserProfile.getId(),\n      sessionId: sessionId,\n      refCode: refCode,\n      refStatus: refStatus,\n    };\n    // console.log(API);\n    try {\n      let res = await Axios({\n        url: `${API}/payment/${UserProfile.getId()}/confirmpayment`,\n        method: \"POST\",\n        data: payload,\n      });\n\n      console.log(\"Done\", res.data.product);\n      setValues(res.data.product);\n      console.log(res.data.product.description);\n      UserProfile.setRole(3);\n      //   console.log(\"Hello\");\n      setpayStatus(\"success\");\n    } catch (error) {\n      console.log(`error`, error);\n      setpayStatus(\"error\");\n    }\n  };\n\n  useEffect(() => {\n    getCustomerInfo();\n  }, []);\n\n  return (\n    <div>\n      {paystatus == \"success\" ? (\n        <>\n          <PageTitle>Payment Successful. </PageTitle>\n\n          {/* <SectionTitle> </SectionTitle> */}\n          <Card className=\"mb-8 shadow-md\">\n            <CardBody>\n              <div className=\"flex flex-row flex-wrap \">\n                <div className=\"w-1/2\">\n                  <p className=\"text-lg  text-gray-800 dark:text-gray-100\">\n                    <span className=\"font-semibold\"> Payment Information</span>{\" \"}\n                  </p>\n                  <p className=\"text-md text-gray-700 dark:text-gray-100 py-2\">\n                    <span className=\"font-semibold\">\n                      {\" \"}\n                      Product Name:\n                      <span className=\"text-xl text-purple-400 mx-3\">\n                        {values.description}{\" \"}\n                      </span>\n                    </span>{\" \"}\n                  </p>\n                  <p className=\"text-md text-gray-700 dark:text-gray-100 py-2\">\n                    <span className=\"font-semibold\">\n                      {\" \"}\n                      Price:\n                      <span className=\"text-xl text-purple-400 mx-3\">\n                        {values.currency == \"inr\" ? <>â‚¹</> : <>$</>}\n                        {values.amount_subtotal / 100}\n                      </span>\n                    </span>\n                  </p>\n                  <p className=\"text-gray-100\">\n                    {\" \"}\n                    We will contant you with you shortly with more information\n                    regarding the amazing plan you just bought! For any queries\n                    mail us at support@thecfsquad.com.\n                  </p>\n                </div>\n              </div>\n            </CardBody>\n          </Card>\n        </>\n      ) : paystatus == \"error\" ? (\n        <>\n          <PageTitle>Sorry An Error Occured </PageTitle>\n\n          {/* <SectionTitle> </SectionTitle> */}\n          <Card className=\"mb-8 shadow-md\">\n            <CardBody>\n              <div className=\"flex flex-row flex-wrap \">\n                <div className=\"w-1/2\">\n                  <p className=\"text-lg  text-gray-800 dark:text-gray-100\">\n                    <span className=\"font-semibold\"> Payment Information</span>{\" \"}\n                  </p>\n\n                  <p className=\"text-gray-100\">\n                    {\" \"}\n                    Sorry an error occured with your payment confirmation!\n                    Please contact support at support@thecfsquad.com.\n                  </p>\n                </div>\n              </div>\n            </CardBody>\n          </Card>\n        </>\n      ) : (\n        <>\n          <PageTitle>Confirming Payment ... </PageTitle>\n\n          {/* <SectionTitle> </SectionTitle> */}\n        </>\n      )}\n    </div>\n  );\n}\n"],"sourceRoot":""}